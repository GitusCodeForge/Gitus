<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Gitus Web Installer</title>
	{{template "webinstaller/_style"}}
  </head>
  <body>
	<header>
	  <h1><a href="/">Gitus Web Installer</a></h1>
	  {{template "webinstaller/_nav"}}
	</header>

	<hr />
	<!-- step 5: receipt system config -->
	<h2>Step 5: Receipt System</h2>

	<form action="" method="POST">
	  <div class="field">
		<label class="field-label">Receipt System</label>
		<p class="field-description">This is used to manage "receipts", which are callbacks sent to user by email when they perform certain actions.</p>
		<table>
		  <thead><tr><th>Field</th><th>Value</th></tr></thead>
		  <tbody>
			<tr><td><label for="receipt-system-type" class="field-sub-label">receiptSystem.type</label></td>
			  <td>
				<select name="receipt-system-type" id="receipt-system-type">
				  <option value="sqlite" {{if eq .Config.ReceiptSystem.Type "sqlite"}}selected{{end}}>SQLite</option>
				  <option value="postgres" {{if eq .Config.ReceiptSystem.Type "postgres"}}selected{{end}}>PostgreSQL</option>
				</select>
			  </td>
			</tr>
			
			<tr><td><label for="receipt-system-path" class="field-sub-label">receiptSystem.path</label><br />
				(Valid only when type is SQLite.)
			  </td>
			  <td><input name="receipt-system-path" id="receipt-system-path" value="{{htmlEscape .Config.ReceiptSystem.Path}}" /></td>
			</tr>
			
			<tr><td><label for="receipt-system-url" class="field-sub-label">receiptSystem.url</label>
			  </td>
			  <td><input name="receipt-system-url" id="receipt-system-url" value="{{htmlEscape .Config.ReceiptSystem.URL}}" /></td>
			</tr>
			
			<tr><td><label for="receipt-system-username" class="field-sub-label">receiptSystem.userName</label></td>
			  <td><input name="receipt-system-username" id="receipt-system-username" value="{{htmlEscape .Config.ReceiptSystem.UserName}}" /></td>
			</tr>
			
			<tr><td><label for="receipt-system-database-name" class="field-sub-label">receiptSystem.databaseName</label></td>
			  <td><input name="receipt-system-database-name" id="receipt-system-database-name" value="{{htmlEscape .Config.ReceiptSystem.DatabaseName}}" /></td>
			</tr>
			
			<tr><td><label for="receipt-system-table-prefix" class="field-sub-label">receiptSystem.tablePrefix</label></td>
			  <td><input name="receipt-system-table-prefix" id="receipt-system-table-prefix" value="{{htmlEscape .Config.ReceiptSystem.TablePrefix}}" /></td>
			  
			<tr><td><label for="receipt-system-password" class="field-sub-label">receiptSystem.password</label></td>
			  <td><input type="password" name="receipt-system-password" id="receipt-system-password" value="{{htmlEscape .Config.ReceiptSystem.Password}}" /></td>
			</tr>
			
			</tr>
		  </tbody>
		</table>
	  </div>
	  <input type="submit" value="Submit and go to next step" />
	</form>

	{{if .ConfirmStageReached}}
	<p><a href="/confirm">Back to the finish line</a></p>
	{{end}}
	
	<hr />
	
	<footer>
	  {{template "_footer"}}
	</footer>
  </body>
</html>

